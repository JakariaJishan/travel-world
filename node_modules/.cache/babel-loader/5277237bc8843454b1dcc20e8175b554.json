{"ast":null,"code":"var _jsxFileName = \"D:\\\\a_programming\\\\javascript\\\\jhankar_mah_webDev\\\\travel-website\\\\src\\\\components\\\\Form\\\\Form\\\\Form.js\",\n    _s = $RefreshSig$();\n\nimport { createUserWithEmailAndPassword, getAuth, signInWithEmailAndPassword, updateProfile } from \"firebase/auth\";\nimport React, { useState } from \"react\";\nimport { Route, Routes, useNavigate } from \"react-router-dom\";\nimport { toast, ToastContainer } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport { app } from \"../../../fire.config\";\nimport Login from \"../Login/Login\";\nimport SignUp from \"../SignUp/SignUp\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Form = () => {\n  _s();\n\n  const [firstName, setFirstName] = useState(\"\");\n  const [lastName, setLastName] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [confirmPass, setConfirmPass] = useState(\"\");\n  let navigate = useNavigate();\n  let id = sessionStorage.getItem(\"id\");\n  const [user, setUser] = useState({\n    name: \"\",\n    lastName: \"\",\n    email: \"\",\n    password: \"\",\n    confirmPass: \"\"\n  });\n\n  const handleChange = e => {\n    let isValid;\n\n    if (e.target.name === \"name\") {\n      isValid = true;\n    }\n\n    if (e.target.name === \"lastName\") {\n      isValid = true;\n    }\n\n    if (e.target.name === \"email\") {\n      isValid = /\\S+@\\S+\\.\\S+/.test(e.target.value);\n    }\n\n    if (e.target.name === \"password\") {\n      isValid = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[#$@!%&*?])[A-Za-z\\d#$@!%&*?]{8,30}$/.test(e.target.value);\n    }\n\n    if (e.target.name === \"confirmPass\") {\n      isValid = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[#$@!%&*?])[A-Za-z\\d#$@!%&*?]{8,30}$/.test(e.target.value);\n    }\n\n    if (isValid) {\n      let newValidation = { ...user\n      };\n      newValidation[e.target.name] = e.target.value;\n      setUser(newValidation);\n    } else {\n      toast(\"invalid input\");\n    }\n  };\n\n  const handleSignUp = () => {\n    if (user.name && user.email && user.password && user.password === user.confirmPass) {\n      const auth = getAuth(app);\n      createUserWithEmailAndPassword(auth, email, password).then(user => {\n        // Signed in\n        navigate(\"/booking/3\");\n        sessionStorage.setItem(\"access token\", user._tokenResponse.refreshToken);\n        sessionStorage.setItem(\"user\", firstName);\n        updateProfile(auth.currentUser, {\n          displayName: firstName\n        });\n\n        if (id) {\n          navigate(\"/booking/\" + id);\n        } else {\n          navigate(\"/\");\n        } // ...\n\n      }).catch(error => {\n        const errorMessage = error.message;\n        console.log(errorMessage);\n      });\n    } else {\n      toast(\"invalid email or password\");\n    }\n  };\n\n  const handleLogIn = () => {\n    const auth = getAuth(app);\n    signInWithEmailAndPassword(auth, email, password).then(user => {\n      // Signed in\n      sessionStorage.setItem(\"access token\", user._tokenResponse.refreshToken);\n      sessionStorage.setItem(\"user\", user.user.displayName);\n\n      if (id) {\n        navigate(\"/booking/\" + id);\n      } else {\n        navigate(\"/\");\n      }\n    }).catch(error => {\n      toast(\"invalid email or password\");\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Routes, {\n      children: [/*#__PURE__*/_jsxDEV(Route, {\n        path: \"/login\",\n        element: /*#__PURE__*/_jsxDEV(Login, {\n          handleLogIn: handleLogIn,\n          setEmail: setEmail,\n          setPassword: setPassword\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/signup\",\n        element: /*#__PURE__*/_jsxDEV(SignUp, {\n          setFirstName: setFirstName,\n          setLastName: setLastName,\n          setEmail: setEmail,\n          setPassword: setPassword,\n          setConfirmPass: setConfirmPass,\n          handleSignUp: handleSignUp,\n          handleChange: handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ToastContainer, {\n      position: \"top-right\",\n      autoClose: 2000,\n      hideProgressBar: false,\n      newestOnTop: false,\n      closeOnClick: true,\n      rtl: false,\n      pauseOnFocusLoss: true,\n      draggable: true,\n      pauseOnHover: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 121,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Form, \"u9HMSJoRswiooivy6VohD51w7KU=\", false, function () {\n  return [useNavigate];\n});\n\n_c = Form;\nexport default Form;\n\nvar _c;\n\n$RefreshReg$(_c, \"Form\");","map":{"version":3,"sources":["D:/a_programming/javascript/jhankar_mah_webDev/travel-website/src/components/Form/Form/Form.js"],"names":["createUserWithEmailAndPassword","getAuth","signInWithEmailAndPassword","updateProfile","React","useState","Route","Routes","useNavigate","toast","ToastContainer","app","Login","SignUp","Form","firstName","setFirstName","lastName","setLastName","email","setEmail","password","setPassword","confirmPass","setConfirmPass","navigate","id","sessionStorage","getItem","user","setUser","name","handleChange","e","isValid","target","test","value","newValidation","handleSignUp","auth","then","setItem","_tokenResponse","refreshToken","currentUser","displayName","catch","error","errorMessage","message","console","log","handleLogIn"],"mappings":"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","sourcesContent":["import {\r\n  createUserWithEmailAndPassword,\r\n  getAuth,\r\n  signInWithEmailAndPassword,\r\n  updateProfile\r\n} from \"firebase/auth\";\r\nimport React, { useState } from \"react\";\r\nimport { Route, Routes, useNavigate } from \"react-router-dom\";\r\nimport { toast, ToastContainer } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\nimport { app } from \"../../../fire.config\";\r\nimport Login from \"../Login/Login\";\r\nimport SignUp from \"../SignUp/SignUp\";\r\n\r\nconst Form = () => {\r\n  const [firstName, setFirstName] = useState(\"\");\r\n  const [lastName, setLastName] = useState(\"\");\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [confirmPass, setConfirmPass] = useState(\"\");\r\n  let navigate = useNavigate();\r\n  let id = sessionStorage.getItem(\"id\");\r\n  const [user, setUser] = useState({\r\n    name: \"\",\r\n    lastName: \"\",\r\n    email: \"\",\r\n    password: \"\",\r\n    confirmPass: \"\",\r\n  });\r\n\r\n  const handleChange = (e) => {\r\n    let isValid;\r\n    if (e.target.name === \"name\") {\r\n      isValid = true;\r\n    }\r\n    if (e.target.name === \"lastName\") {\r\n      isValid = true;\r\n    }\r\n    if (e.target.name === \"email\") {\r\n      isValid = /\\S+@\\S+\\.\\S+/.test(e.target.value);\r\n    }\r\n    if (e.target.name === \"password\") {\r\n      isValid =\r\n        /^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[#$@!%&*?])[A-Za-z\\d#$@!%&*?]{8,30}$/.test(\r\n          e.target.value\r\n        );\r\n    }\r\n    if (e.target.name === \"confirmPass\") {\r\n      isValid =\r\n        /^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[#$@!%&*?])[A-Za-z\\d#$@!%&*?]{8,30}$/.test(\r\n          e.target.value\r\n        );\r\n    }\r\n\r\n    if (isValid) {\r\n      let newValidation = { ...user };\r\n      newValidation[e.target.name] = e.target.value;\r\n      setUser(newValidation);\r\n    } else {\r\n      toast(\"invalid input\");\r\n    }\r\n  };\r\n\r\n  const handleSignUp = () => {\r\n    if (\r\n      user.name &&\r\n      user.email &&\r\n      user.password &&\r\n      user.password === user.confirmPass\r\n    ) {\r\n      const auth = getAuth(app);\r\n      createUserWithEmailAndPassword(auth, email, password)\r\n        .then((user) => {\r\n          // Signed in\r\n          navigate(\"/booking/3\");\r\n          sessionStorage.setItem(\r\n            \"access token\",\r\n            user._tokenResponse.refreshToken\r\n          );\r\n          sessionStorage.setItem(\"user\", firstName);\r\n          updateProfile(auth.currentUser, {\r\n            displayName: firstName,\r\n          });\r\n          if (id) {\r\n            navigate(\"/booking/\" + id);\r\n          } else {\r\n            navigate(\"/\");\r\n          }\r\n          // ...\r\n        })\r\n        .catch((error) => {\r\n          const errorMessage = error.message;\r\n          console.log(errorMessage);\r\n        });\r\n    } else {\r\n      toast(\"invalid email or password\");\r\n    }\r\n  };\r\n\r\n  const handleLogIn = () => {\r\n    const auth = getAuth(app);\r\n    signInWithEmailAndPassword(auth, email, password)\r\n      .then((user) => {\r\n        // Signed in\r\n        sessionStorage.setItem(\r\n          \"access token\",\r\n          user._tokenResponse.refreshToken\r\n        );\r\n        sessionStorage.setItem(\"user\", user.user.displayName);\r\n        if (id) {\r\n          navigate(\"/booking/\" + id);\r\n        } else {\r\n          navigate(\"/\");\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        toast(\"invalid email or password\");\r\n      });\r\n  };\r\n  return (\r\n    <div>\r\n      <Routes>\r\n        <Route\r\n          path=\"/login\"\r\n          element={\r\n            <Login\r\n              handleLogIn={handleLogIn}\r\n              setEmail={setEmail}\r\n              setPassword={setPassword}\r\n            />\r\n          }\r\n        />\r\n        <Route\r\n          path=\"/signup\"\r\n          element={\r\n            <SignUp\r\n              setFirstName={setFirstName}\r\n              setLastName={setLastName}\r\n              setEmail={setEmail}\r\n              setPassword={setPassword}\r\n              setConfirmPass={setConfirmPass}\r\n              handleSignUp={handleSignUp}\r\n              handleChange={handleChange}\r\n            />\r\n          }\r\n        />\r\n      </Routes>\r\n      <ToastContainer\r\n        position=\"top-right\"\r\n        autoClose={2000}\r\n        hideProgressBar={false}\r\n        newestOnTop={false}\r\n        closeOnClick\r\n        rtl={false}\r\n        pauseOnFocusLoss\r\n        draggable\r\n        pauseOnHover\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Form;\r\n"]},"metadata":{},"sourceType":"module"}